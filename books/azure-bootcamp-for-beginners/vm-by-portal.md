---
title: "Azure Portalを使って、ブラウザからVMを起動する" # 記事のタイトル
published: false # 公開設定（falseにすると下書き）
---

# VMを起動しよう

この章では、Azureのポータル（Web画面）を使って、VMを起動してWebサーバーを動かしてみます。（画面操作は2022年8月時点のものです）

## 準備：リソースグループ

AuzreではVMなどの色々なサービスの要素（リソース）をまとめて管理する仕組みとして「リソースグループ」を使います。

今回の実験のために、まずリソースグループを作りましょう。

### ポータルからリソースグループを作成

- [Azure Potarl](https://portal.azure.com/) にサインイン
- 「リソースグループ」で検索し、リソースグループのページに移動
- [+新規]をクリック

![新規リソース](/images/azure_resouce_group_head.png)

- リソースグループの新規作成画面が表示されるので、次の項目を指定
  - サブスクリプションを選択 ... 課金単位をまとめるもの
    - アカウント作成時に作っているはず。複数ある場合は今回利用するものを選択
  - リソースグループ ... 今回作る任意の名前を指定
    - この例では「_myVMgroup_」を指定。今後自分の指定した名前に読み替えてください
  - リージョン ... リソースを作成する地域。好みの地域を選択
    - この例では「Japan East」を指定

![リソースグループの内容](/images/azure_new_resource_group.png)

- 画面の下の[確認および作成]ボタンをクリック
- 確認画面で内容を確認し、OKなら下の[作成]ボタンをクリック
- リソースグループの一覧画面に戻る
  - 指定した「_myVMgroup_」が一覧に存在するのを確認

この後のリソース(VM等)は、今回用意したリソースグループ「_myVMgroup_」に作ります。

## VMの起動

次にポータルからVMを作成します。

### ポータルからVMの作成

- ポータルで「Virtual Machines」を検索し、Virtual Machinesのページに移動
- [+新規]をクリック
  - 出てきたメニューから[Azure 仮想マシン]をクリック

![新規VMメニュー](/images/azure_vm_menu.png)

- 「仮想マシンの作成」画面が表示されるので、次の項目を指定
  - サプスクリプション
  - リソースグループ ... 準備で作成したリソースグループを選択（ _myVMgroup_ など）
  - 仮想マシン名 ... 作成するVMの名前。任意に指定（例えば _firstVM_ など）
  - 地域 ... Japan Eastなど
  - イメージ ... OSの種類。今回は「Ubuntu Server 20.04LTS - Gen2」を選択

![新規VM指定1](/images/azure_new_vm_panel1.png)

  - サイズ ... VMのサイズ。今回は「Standard_B1ls - 1 vcpu、0.5GiB のメモリ」を選択
  - 管理者アカウントの設定はそのまま
    - 認証の種類 ... SSH公開キー
    - ユーザー名 ... azureuser
    - SSH公開キーのソース ... 新しいキーの組みの生成
    - キーの組名 ... この例では「_firstVM_key_」

![新規VM指定2](/images/azure_new_vm_panel1.png)

